

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Izenda Copy Console &mdash; Izenda BI 3.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Izenda BI 3.1.0 documentation" href="../index.html"/>
        <link rel="up" title="Administrator Guide" href=".administrator_guide.html"/>
        <link rel="next" title="Import Report or Dashboard Definition" href="doc_import_report_dashboard_definition.html"/>
        <link rel="prev" title="Security Recommendations" href="doc_security_recommendations.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Izenda BI
          

          
            
            <img src="../_static/logo2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/.intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/.install.html">Installation and Maintenance Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href=".administrator_guide.html">Administrator Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href=".system_setup_guide.html">System Setup Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href=".system_configuration_guide.html">System Configuration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href=".multi-tenant_setup_guide.html">Multi-tenant Setup Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc_security_recommendations.html">Security Recommendations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Izenda Copy Console</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#understanding-the-security-of-the-copy-console">Understanding the Security of the Copy Console</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#copy-console-authentication-overview">Copy Console Authentication Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-transfered-via-copy-console">Data Transfered Via Copy Console</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report-object-workflow">Report Object Workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#copy-console-examples">Copy Console Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#understanding-the-copy-console-xml">Understanding The Copy Console XML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-copy-console-for-integrated-modes">Using the Copy Console for Integrated Modes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#exposing-the-api-user-login-endpoint">Exposing the &#8220;api/user/login&#8221; endpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-appauthurl-setting-v2-6-12-or-greater">The &#8220;appAuthUrl&#8221; setting (v2.6.12 or greater)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="doc_import_report_dashboard_definition.html">Import Report or Dashboard Definition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href=".user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/.developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/.system_reference.html">System Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/.faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/.glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference external" href="http://wiki.izenda.us">6 Series Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Izenda BI</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href=".administrator_guide.html">Administrator Guide</a> &raquo;</li>
        
      <li>Izenda Copy Console</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ui/doc_copy_console.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="izenda-copy-console">
<h1>Izenda Copy Console<a class="headerlink" href="#izenda-copy-console" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Izenda Copy Console Tool will allow you to copy templates, reports
and dashboards from one Izenda Configuration database to another. If you need to copy reports within the same configuration database (eg. copying a report from one tenant to another) you can use the Copy Management Tool.</p>
</div>
<div class="section" id="understanding-the-security-of-the-copy-console">
<h2>Understanding the Security of the Copy Console<a class="headerlink" href="#understanding-the-security-of-the-copy-console" title="Permalink to this headline">¶</a></h2>
<div class="section" id="copy-console-authentication-overview">
<h3>Copy Console Authentication Overview<a class="headerlink" href="#copy-console-authentication-overview" title="Permalink to this headline">¶</a></h3>
<p>The Copy Console application must be able to log in to Izenda in order to create a valid access token.</p>
<ul>
<li><p class="first">For standalone environments, you will simply need to provide the Izenda API URL along with valid credentials for your source and destinations. The Copy Console will use the standalone authentication endpoints to create a valid access token for the copy process.</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/SlideB.PNG" src="../_images/SlideB.PNG" />
</div>
</div></blockquote>
</li>
<li><p class="first">For integrated environments, the Copy Console must be able to login to <em>host application</em> and, therefore, it will need to utilize your security standards for authenticating users outside of a Web Browser.</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/SlideA.PNG" src="../_images/SlideA.PNG" />
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="data-transfered-via-copy-console">
<h3>Data Transfered Via Copy Console<a class="headerlink" href="#data-transfered-via-copy-console" title="Permalink to this headline">¶</a></h3>
<p>The following guidelines provide an overview of what the copy console can copy from one environment to another. In the subsequent documentation, dashboards, reports, and templates will be collectively referred to as <em>Report Objects.</em></p>
<blockquote>
<div><ul class="simple">
<li><strong>Reporting Data</strong>: No</li>
<li><strong>Report Structure (report layout, charts, printing defaults)</strong>: Yes</li>
<li><strong>Dashboard Structure</strong>: Yes</li>
<li><strong>Access Rights</strong>:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><strong>User Level</strong>: No</li>
<li><strong>Role Level</strong>: Yes, with role mapping in XML</li>
<li><strong>Everyone</strong>: Yes</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Schedules/Subscriptions</strong>: No</li>
<li><strong>Filter Values</strong>: No</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Filter Values will not be copied from source to destination because the stored data may pose a security concern. In the destination, the filter values will need to be reapplied. If a report contains a non-visible required filter and is copied, an error message will be displayed when you navigate to the report. You will simply need to open the report in the designer, specify a value, and save the report.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Calculated Fields</strong>: Yes/No.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>If the calculated field is created in the report, it will be copied. If the calculated field is created within the data model level, it will not be copied.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Tenants, Roles, Users, Permissions</strong>: No</li>
<li><strong>Report Object GUIDs</strong>: No</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="report-object-workflow">
<h3>Report Object Workflow<a class="headerlink" href="#report-object-workflow" title="Permalink to this headline">¶</a></h3>
<p>The following guidelines specify the intended workflow when copying dashboards, reports, and templates from one environment to another.</p>
<blockquote>
<div><ul class="simple">
<li>Report Objects can be copied from Source System to Destination System</li>
<li>Report Objects can be copied from Source System to Destination Tenant</li>
<li>Report Objects can be copied from Source Tenant to Destination Tenant</li>
<li>Report Objects cannot be promoted from a Tenant to a System</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="copy-console-examples">
<h3>Copy Console Examples<a class="headerlink" href="#copy-console-examples" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>In the following examples, we assume that each reports are found in the same category and sub category.</dt>
<dd><ul class="first last simple">
<li>Reports are described using their Report Name, GUID, and Source GUID {Report Name, GUID, Source GUID}</li>
<li>In live scenarios, GUIDs are not generated sequentially</li>
</ul>
</dd>
</dl>
<ul>
<li><p class="first"><strong>Goal:</strong> Copy reports A, B, C, D from Source to Destination</p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide22.PNG" src="../_images/Slide22.PNG" />
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>Goal:</strong> Report A has been copied from Source to Destination. Modify report A in Source and recopy. <em>Overwrite if exists = yes</em></p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide32.PNG" src="../_images/Slide32.PNG" />
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>Goal:</strong> Report A has been copied from Source to Destination. Modify report A in Source and recopy. <em>Overwrite if exists = no</em></p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide42.PNG" src="../_images/Slide42.PNG" />
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>Goal:</strong> Report A name exists in destination. Create report A in Source and Copy. <em>Overwrite if exists = no</em></p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide6.PNG" src="../_images/Slide6.PNG" />
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>Goal:</strong> Report A name exists in destination. Create report A in Source and Copy. <em>Overwrite if exists = no</em></p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide6.PNG" src="../_images/Slide6.PNG" />
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>Goal:</strong> The destination database is a restored copy of the source database. Reports have been modified in source.</p>
</li>
</ul>
<p>Copy modified reports A, B, C, D from source to destination. <em>Overwrite if exists = no</em></p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide9.PNG" src="../_images/Slide9.PNG" />
</div>
</div></blockquote>
<ul class="simple">
<li><strong>Goal:</strong> The destination database is a restored copy of the source database. Reports have been modified in source.</li>
</ul>
<p>Copy modified reports A, B, C, D from source to destination. <em>Overwrite if exists = yes</em></p>
<blockquote>
<div><div class="figure">
<img alt="../_images/Slide9.PNG" src="../_images/Slide9.PNG" />
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="understanding-the-copy-console-xml">
<h2>Understanding The Copy Console XML<a class="headerlink" href="#understanding-the-copy-console-xml" title="Permalink to this headline">¶</a></h2>
<p>Options for the Copy Console are specified in an XML and provided to the Copy Console at runtime. An example of this XML can be found in the &#8220;Usage&#8221; section below. The following is an overview of the configurable options in your XML.</p>
<ul>
<li><p class="first"><strong>Authentication</strong>: The Copy Console must be able to log in to Izenda in order to create a valid access token.</p>
<blockquote>
<div><ul class="simple">
<li>For standalone environments, you will simply need to provide the Izenda API URL along with valid credentials for your source and destinations.</li>
<li>In integrated modes, the authentication endpoint will be specified in the <em>appAuthUrl</em> of the Authentication object. A sample C# implementation can be found in the <em>Using the Copy Console for Integrated Modes</em> section below.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>Specifying a Tenant</strong>:Tenants are specified directly in your CopyConfig.xml by their ID found within the UI. If the Tenant ID value is left blank, it is assumed that you are copying to the System &#8220;tenant&#8221;</p>
<blockquote>
<div><div class="figure" id="id1">
<img alt="../_images/Slide12.PNG" src="../_images/Slide12.PNG" />
<p class="caption"><span class="caption-number">Fig. 153 </span><span class="caption-text">&lt;tenant id=&#8221;My Tenant ID&#8221; overwriteIfAlreadyExist=&#8221;yes&#8221;&gt;</span></p>
</div>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt><strong>Specifying the overwriteIfExists Flag</strong>: When a report is copied from one environment to another, a Source ID is cataloged in the destination. This control can be set at the tenant level within your configuraton file.</dt>
<dd><p class="first"><em>&lt;tenant id=&#8221;My Tenant ID&#8221; overwriteIfAlreadyExist=&#8221;yes&#8221;&gt;</em></p>
<ul class="last simple">
<li>If flag is true: If the Source ID in the database matches the Source ID of the prospective copy and the report names match, the existing version of the report is overwritten.</li>
<li>If flag is false: If the Source ID in the database matches the Source ID of the prospective copy and the report names match, the existing version of the report is not overwritten.</li>
<li>At this time, there is not a setting to &#8220;make a copy&#8221; but not overwrite if the SourceIDs match and the names match (e.g. If &#8220;Report&#8221; exists,  &#8220;Report(1)&#8221; is created).</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Specifying Database Mappings</strong>: In order to copy reports from one environment to another, a datasource must exist within the Destination that maps. Database mapping can be accomplished by specifying the source and destination&#8217;s database names.</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>When specifying your database mapping, you will need to obtain the database name and schema for both the source and destination. Both values can be found directly in the platform.</li>
<li>Database Objects used within your report must exist in both the source and destination. Database objects are not &#8220;mappable.&#8221; For instance, if a report is built with the &#8220;Orders&#8221; table in the Source, it cannot be mapped to an &#8220;Orders&#8221; view in the Destination. Similarly, if a report is build with the &#8220;Orders&#8221; table in the Source, it cannot be mapped to a &#8220;MyOrdersTable&#8221; in the Destination.</li>
</ul>
</div></blockquote>
<div class="last figure" id="id2">
<img alt="../_images/Slide10.PNG" src="../_images/Slide10.PNG" />
<p class="caption"><span class="caption-number">Fig. 154 </span><span class="caption-text">&lt;databaseMapping sourceDatabaseName=&#8221;Northwind&#8221; sourceSchema=&#8221;dbo&#8221; destinationDatabaseName=&#8221;NW&#8221; destinationSchema=&#8221;dbo&#8221;/&gt;</span></p>
</div>
</dd>
</dl>
</li>
<li><p class="first"><strong>Specifying Reports, Templates and Dashboards</strong>: These elements will be found in their respective XML tags within your CopyConfig.xml.</p>
<blockquote>
<div><ul>
<li><p class="first">To reference a particular Report Object in your XML, you will specify its ID with its corresponding object type</p>
</li>
<li><p class="first">Report Object IDs can be found within the URL when navigating to it in your web browser.</p>
<blockquote>
<div><div class="figure" id="id3">
<img alt="../_images/Slide11b.PNG" src="../_images/Slide11b.PNG" />
<p class="caption"><span class="caption-number">Fig. 155 </span><span class="caption-text">&lt;report id=&#8221;10663c5b-882e-4739-bb66-9fc9d7a8210a&#8221;/&gt;</span></p>
</div>
</div></blockquote>
</li>
<li><p class="first">Report/template IDs can also be found within the IzendaReport table of your Izenda Configuration Database.</p>
</li>
<li><p class="first">Dashboard IDs can also be found within the IzendaDashboard table of your Izenda Configuration Database.</p>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download a copy of the CopyConsoleTool.zip that corresponds to your version of Izenda from the Izenda Downloads Site. For instance, if you are running 2.6.15, the correct version of the Copy Console can be found at <a class="reference external" href="https://downloads.izenda.com/v2.6.15/">https://downloads.izenda.com/v2.6.15/</a> . If you are running the latest version of Izenda, the Copy Console can be found in the <a class="reference external" href="https://downloads.izenda.com/latest">latest</a> directory.</p>
</li>
<li><p class="first">Download SampleConfig.xml from the
izenda <a class="reference external" href="https://downloads.izenda.com/Utilities">utilities</a>.</p>
</li>
<li><p class="first">Unzip this application to the location you select.</p>
</li>
<li><p class="first">Edit the SampleConfig.xml using the following as a template:</p>
<ul>
<li><p class="first">The Source Block tells the application where you are copying from as below:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;source&gt;</span>
    <span class="c">&lt;!-- Specify the api credentials and the url of the source api--&gt;</span>
    <span class="nt">&lt;credentials</span> <span class="na">userName=</span><span class="s">&quot;Admin&quot;</span> <span class="na">password=</span><span class="s">&quot;Admin&quot;</span> <span class="na">apiUrl=</span><span class="s">&quot;http://localhost:2525/api&quot;</span><span class="nt">/&gt;</span>
    <span class="cp">&lt;!—Tenant id is not a GUID, but rather the &#39;Tenant ID&#39; field from the UI. If Tenant ID is BLANK your source location is System Level--&gt;</span>
    <span class="nt">&lt;tenant</span> <span class="na">id=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/tenant&gt;</span>
    <span class="c">&lt;!-- Specify the reports to copy based on the report id--&gt;</span>
    <span class="nt">&lt;reports&gt;</span>
        <span class="nt">&lt;report</span> <span class="na">id=</span><span class="s">&quot;4FA0D1D6-C4B5-435E-99D3-8B059724BE7C&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;report</span> <span class="na">id=</span><span class="s">&quot;41212145-C4B5-435E-99D3-8B059724BHC3&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/reports&gt;</span>
    <span class="c">&lt;!-- Specify the templates to copy using the template id --&gt;</span>
    <span class="nt">&lt;templates&gt;</span>
        <span class="c">&lt;!--  &lt;template id=&quot;51D71299-FCD0-402E-9DE0-AD428D26FAAA&quot;/&gt; --&gt;</span>
    <span class="nt">&lt;/templates&gt;</span>
    <span class="c">&lt;!-- Specify the dashboards to copy using the dashboard id--&gt;</span>
    <span class="nt">&lt;dashboards&gt;</span>
        <span class="c">&lt;!-- &lt;dashboard id=&quot;B68574CC-89EC-462F-9ED8-DF2F12FACC58&quot;/&gt;  --&gt;</span>
    <span class="nt">&lt;/dashboards&gt;</span>
<span class="nt">&lt;/source&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Now you can configure the destination(s).</p>
<p>Each destination can have a name, this will allow you to run one or all destinations from the command line (the destination name can be specified using the /d: command and the name).</p>
<p>The destination block can be configured as below:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Specify the destination(s)--&gt;</span>
<span class="nt">&lt;destinations&gt;</span>
   <span class="c">&lt;!-- Destination 1, These destinations can be run one at a time or all at once based on the name given for each destination by using the d:/parameter in the command line--&gt;</span>
   <span class="nt">&lt;destination</span> <span class="na">name=</span><span class="s">&quot;UAT&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Specify the api credentials --&gt;</span>
      <span class="nt">&lt;credentials</span> <span class="na">userName=</span><span class="s">&quot;Admin&quot;</span> <span class="na">password=</span><span class="s">&quot;Admin&quot;</span> <span class="na">apiUrl=</span><span class="s">&quot;http://10.100.5.86:80/api&quot;</span> <span class="nt">/&gt;</span>
      <span class="c">&lt;!-- Specify the tenant(s)--&gt;</span>
      <span class="nt">&lt;tenants&gt;</span>
         <span class="c">&lt;!-- id is not a GUID, but rather the &#39;Tenant ID&#39; field from the UI. If Tenant ID is BLANK this is System Level. IF you would like to overwrite anything at the destination set overwrite to “yes” if not set to “no”--&gt;</span>
         <span class="nt">&lt;tenant</span> <span class="na">id=</span><span class="s">&quot;&quot;</span> <span class="na">overwriteIfAlreadyExist=</span><span class="s">&quot;yes&quot;</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- Specify the database mappings --&gt;</span>
            <span class="nt">&lt;databaseMappings&gt;</span>
               <span class="c">&lt;!-- The database name is the name given to to the connection string in the UI of the application. This name is visible in the connection string page of the Izenda Application UI this is not the actual name of the database on your server. You must add the name and the schema for both the source and the destination --&gt;</span>
               <span class="nt">&lt;databaseMapping</span> <span class="na">sourceDatabaseName=</span><span class="s">&quot;northwind&quot;</span> <span class="na">sourceSchema=</span><span class="s">&quot;dbo&quot;</span> <span class="na">destinationDatabaseName=</span><span class="s">&quot;northwind&quot;</span> <span class="na">destinationSchema=</span><span class="s">&quot;dbo&quot;</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;databaseMapping</span> <span class="na">sourceDatabaseName=</span><span class="s">&quot;northwind.100&quot;</span> <span class="na">sourceSchema=</span><span class="s">&quot;northwind&quot;</span> <span class="na">destinationDatabaseName=</span><span class="s">&quot;northwind&quot;</span> <span class="na">destinationSchema=</span><span class="s">&quot;northwind&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/databaseMappings&gt;</span>
            <span class="c">&lt;!-- Specify the role mappings, this is not required but if you need to map a role like IT from system to IT Department at the tenant location you can do so here. This is not required. If the role does not exist at the destination is will not be copied.--&gt;</span>
            <span class="nt">&lt;roleMappings&gt;</span>
               <span class="c">&lt;!-- &lt;roleMapping sourceRole=&quot;Accounting&quot; destinationRole=&quot;Accounting&quot;/&gt; --&gt;</span>
               <span class="c">&lt;!-- &lt;roleMapping sourceRole=&quot;IT&quot; destinationRole=&quot;IT Department&quot;/&gt; --&gt;</span>
            <span class="nt">&lt;/roleMappings&gt;</span>
         <span class="nt">&lt;/tenant&gt;</span>
      <span class="nt">&lt;/tenants&gt;</span>
   <span class="nt">&lt;/destination&gt;</span>
   <span class="c">&lt;!-- Destination 2, These destinations can be run one at a time or all at once based on the parameters used in the command line--&gt;</span>
   <span class="nt">&lt;destination</span> <span class="na">name=</span><span class="s">&quot;DEV&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Specify the api credentials --&gt;</span>
      <span class="nt">&lt;credentials</span> <span class="na">userName=</span><span class="s">&quot;Admin&quot;</span> <span class="na">password=</span><span class="s">&quot;Admin&quot;</span> <span class="na">apiUrl=</span><span class="s">&quot;http://10.100.5.87:80/api&quot;</span> <span class="nt">/&gt;</span>
      <span class="c">&lt;!-- Specify the tenant(s)--&gt;</span>
      <span class="nt">&lt;tenants&gt;</span>
         <span class="c">&lt;!-- id is not a guid, but rather the &#39;Tenant ID&#39; field from the UI. If Tenant ID is BLANK this is System Level--&gt;</span>
         <span class="nt">&lt;tenant</span> <span class="na">id=</span><span class="s">&quot;Tenant01&quot;</span> <span class="na">overwriteIfAlreadyExist=</span><span class="s">&quot;yes&quot;</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- Specify the database mappings --&gt;</span>
            <span class="nt">&lt;databaseMappings&gt;</span>
               <span class="c">&lt;!-- The database name is the name given to to the connection string in the UI of the applicaiotn --&gt;</span>
               <span class="nt">&lt;databaseMapping</span> <span class="na">sourceDatabaseName=</span><span class="s">&quot;southwind&quot;</span> <span class="na">sourceSchema=</span><span class="s">&quot;dbo2&quot;</span> <span class="na">destinationDatabaseName=</span><span class="s">&quot;northwind&quot;</span> <span class="na">destinationSchema=</span><span class="s">&quot;dbo2&quot;</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;databaseMapping</span> <span class="na">sourceDatabaseName=</span><span class="s">&quot;northwind&quot;</span> <span class="na">sourceSchema=</span><span class="s">&quot;northwind&quot;</span> <span class="na">destinationDatabaseName=</span><span class="s">&quot;northwind&quot;</span> <span class="na">destinationSchema=</span><span class="s">&quot;northwind&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/databaseMappings&gt;</span>
            <span class="c">&lt;!-- Specify the role mappings, this is not required but if you need to map a role ex. IT from system to IT Department at the tenant location input here--&gt;</span>
            <span class="nt">&lt;roleMappings&gt;</span>
               <span class="c">&lt;!-- &lt;roleMapping sourceRole=&quot;Accounting&quot; destinationRole=&quot;Accounting&quot;/&gt; --&gt;</span>
               <span class="c">&lt;!-- &lt;roleMapping sourceRole=&quot;IT&quot; destinationRole=&quot;IT Department&quot;/&gt; --&gt;</span>
            <span class="nt">&lt;/roleMappings&gt;</span>
         <span class="nt">&lt;/tenant&gt;</span>
      <span class="nt">&lt;/tenants&gt;</span>
   <span class="nt">&lt;/destination&gt;</span>
<span class="nt">&lt;/destinations&gt;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">Once you have configured the xml file you can begin to copy.</p>
<p>You will need to run this from a command window. Navigate to the
location of the exe where you unzipped it above. You will need to
provide the path to the xml file configured above and the parameter for
the destination if used. If this parameter is not used, all destinations
will be run.</p>
<p>Command Line example to run:</p>
<div class="highlight-doscon"><div class="highlight"><pre><span></span><span class="gp">C:\CopyConsoleV1\CopyConsoleTool&gt;</span>IzendaCopyConsoleApp.exe SampleConfig.xml /d:UAT
</pre></div>
</div>
<p>To view usage at the command line:</p>
<div class="highlight-doscon"><div class="highlight"><pre><span></span><span class="gp">C:\CopyConsoleV1\CopyConsoleTool&gt;</span>IzendaCopyConsoleApp.exe /?
<span class="gp">Usage: IzendaCopyConsoleApp.exe &lt;path to mapping file&gt;</span> [/d:<span class="p">&lt;</span>destination name<span class="p">&gt;</span>]
</pre></div>
</div>
<p>Options:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>/d:destinationname     (Optional) Specify the destination name. If this switch is omitted, all destinations will be copied.
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="using-the-copy-console-for-integrated-modes">
<h2>Using the Copy Console for Integrated Modes<a class="headerlink" href="#using-the-copy-console-for-integrated-modes" title="Permalink to this headline">¶</a></h2>
<p>In order for the copy console to function properly, it must be able to login to the source and destination sites and retrieve an access token that will be used throught the copy process. By default, the copy console will attempt to authenticate against the &#8220;api/user/login&#8221; endpoint for each site specified in the copy console configuration file.</p>
<div class="section" id="exposing-the-api-user-login-endpoint">
<h3>Exposing the &#8220;api/user/login&#8221; endpoint<a class="headerlink" href="#exposing-the-api-user-login-endpoint" title="Permalink to this headline">¶</a></h3>
<p>For integrated modes, you can expose this route in the host application and add the corresponding Action method to handle the authentication. A simple example, along with a sample config file, can be found below:</p>
<ul>
<li><p class="first"><a class="reference download internal" href="../_downloads/CopyConfig.xml" download=""><code class="xref download docutils literal"><span class="pre">A</span> <span class="pre">quick</span> <span class="pre">sample</span> <span class="pre">config</span> <span class="pre">file</span></code></a></p>
</li>
<li><p class="first">If you are using an MVC Kit that was not downloaded from the GitHub repository, the following code needs to be added to your RoutConfig.cs file. Refer to the following link for an example: <a class="reference external" href="https://github.com/Izenda7Series/Mvc5StarterKit/blob/master/Mvc5StarterKit/App_Start/RouteConfig.cs">https://github.com/Izenda7Series/Mvc5StarterKit/blob/master/Mvc5StarterKit/App_Start/RouteConfig.cs</a> (Line 23)</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span> <span class="c1">//configure a custom route to handle requests for &quot;api/user/login&quot;</span>
<span class="n">routes</span><span class="p">.</span><span class="n">MapRoute</span><span class="p">(</span>
          <span class="n">name</span><span class="p">:</span> <span class="s">&quot;CustomAuth&quot;</span><span class="p">,</span>
          <span class="n">url</span><span class="p">:</span> <span class="s">&quot;api/user/login&quot;</span><span class="p">,</span>
          <span class="n">defaults</span><span class="p">:</span> <span class="k">new</span> <span class="p">{</span> <span class="n">controller</span> <span class="p">=</span> <span class="s">&quot;Home&quot;</span><span class="p">,</span> <span class="n">action</span> <span class="p">=</span> <span class="s">&quot;CustomAuth&quot;</span> <span class="p">}</span>
      <span class="p">);</span>
</pre></div>
</div>
<p>Then implement a custom action to process requests for &#8220;api/user/login&#8221; as seen in the example:
<a class="reference external" href="https://github.com/Izenda7Series/Mvc5StarterKit/blob/master/Mvc5StarterKit/Controllers/HomeController.cs">https://github.com/Izenda7Series/Mvc5StarterKit/blob/master/Mvc5StarterKit/Controllers/HomeController.cs</a> (Line 548)</p>
</li>
</ul>
</div>
<div class="section" id="the-appauthurl-setting-v2-6-12-or-greater">
<h3>The &#8220;appAuthUrl&#8221; setting (v2.6.12 or greater)<a class="headerlink" href="#the-appauthurl-setting-v2-6-12-or-greater" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, you can explicitly specify the authentication URL for integrated deployments via the &#8220;appAuthUrl&#8221; setting.</p>
<div class="section" id="adding-the-appauthurl">
<h4>Adding the appAuthUrl<a class="headerlink" href="#adding-the-appauthurl" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Be sure to include the trailing slash for the appAuthUrl.</p>
</div>
<hr class="docutils" />
<blockquote>
<div><div class="highlight-xml"><div class="highlight"><pre><span></span>        <span class="c">&lt;!-- Specify the api credentials --&gt;</span>
        <span class="nt">&lt;credentials</span>
                <span class="na">tenant=</span><span class="s">&quot;&quot;</span>
                <span class="na">userName=</span><span class="s">&quot;myuser&quot;</span>
                <span class="na">password=</span><span class="s">&quot;mypassword&quot;</span>
                <span class="na">apiUrl=</span><span class="s">&quot;http://localhost:2277/api/&quot;</span>
<span class="hll">                <span class="na">appAuthUrl=</span><span class="s">&quot;http://localhost:14777/login.aspx/&quot;</span><span class="nt">/&gt;</span>
</span></pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="configuring-the-appauthurl-endpoint">
<h4>Configuring the appAuthUrl endpoint<a class="headerlink" href="#configuring-the-appauthurl-endpoint" title="Permalink to this headline">¶</a></h4>
<p>The appAuthUrl endpoint should process requests as shown in the example below:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The snippet below is for demonstration purposes and may be subject to change. The most recent example can always be found <a class="reference external" href="https://github.com/Izenda7Series/Mvc5StarterKit/blob/master/Mvc5StarterKit/Controllers/HomeController.cs#L548">here</a></p>
</div>
<hr class="docutils" />
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="n">ActionResult</span> <span class="nf">CustomAuth</span><span class="p">(</span><span class="kt">string</span> <span class="n">username</span><span class="p">,</span> <span class="kt">string</span> <span class="n">password</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">OperationResult</span> <span class="n">authResult</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">serializerSettings</span> <span class="p">=</span> <span class="k">new</span> <span class="n">JsonSerializerSettings</span> <span class="p">{</span> <span class="n">ContractResolver</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CamelCasePropertyNamesContractResolver</span><span class="p">()</span> <span class="p">};</span>
    <span class="kt">var</span> <span class="n">jsonResult</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>

    <span class="c1">//validate login (more complex logic can be added here)</span>
    <span class="cp">#warning CAUTION!! Update this method to use your authentication scheme or remove it entirely if the copy console will not be used.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">username</span> <span class="p">==</span> <span class="s">&quot;IzendaAdmin@system.com&quot;</span> <span class="p">&amp;&amp;</span> <span class="n">password</span> <span class="p">==</span> <span class="s">&quot;Izenda@123&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">user</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UserInfo</span> <span class="p">{</span> <span class="n">UserName</span> <span class="p">=</span> <span class="n">username</span><span class="p">,</span> <span class="n">TenantUniqueName</span> <span class="p">=</span> <span class="s">&quot;System&quot;</span> <span class="p">};</span>
        <span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="n">IzendaTokenAuthorization</span><span class="p">.</span><span class="n">GetToken</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">accessToken</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IzendaFramework</span><span class="p">.</span><span class="n">AccessToken</span>
        <span class="p">{</span>
            <span class="n">CultureName</span> <span class="p">=</span> <span class="s">&quot;en-US&quot;</span><span class="p">,</span>
            <span class="n">Tenant</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
            <span class="n">IsExpired</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
            <span class="n">NotifyDuringDay</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
            <span class="n">DateFormat</span> <span class="p">=</span> <span class="s">&quot;DD/MM/YYYY&quot;</span><span class="p">,</span>
            <span class="n">Token</span> <span class="p">=</span> <span class="n">token</span>
        <span class="p">};</span>

        <span class="n">authResult</span> <span class="p">=</span> <span class="k">new</span> <span class="n">OperationResult</span> <span class="p">{</span> <span class="n">Success</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">Messages</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span> <span class="n">Data</span> <span class="p">=</span> <span class="n">accessToken</span> <span class="p">};</span>
        <span class="n">jsonResult</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">SerializeObject</span><span class="p">(</span><span class="n">authResult</span><span class="p">,</span> <span class="n">serializerSettings</span><span class="p">);</span>
        <span class="k">return</span> <span class="nf">Content</span><span class="p">(</span><span class="n">jsonResult</span><span class="p">,</span> <span class="s">&quot;application/json&quot;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">authResult</span> <span class="p">=</span> <span class="k">new</span> <span class="n">OperationResult</span> <span class="p">{</span> <span class="n">Success</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span> <span class="n">Messages</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span> <span class="n">Data</span> <span class="p">=</span> <span class="k">null</span> <span class="p">};</span>
    <span class="n">jsonResult</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">SerializeObject</span><span class="p">(</span><span class="n">authResult</span><span class="p">,</span> <span class="n">serializerSettings</span><span class="p">);</span>
    <span class="k">return</span> <span class="nf">Content</span><span class="p">(</span><span class="n">jsonResult</span><span class="p">,</span> <span class="s">&quot;application/json&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please ensure that the JSON response from your endpoint uses camel casing for the property names as shown below.</p>
</div>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;messages&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:{</span>
                        <span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="s2">&quot;Tm90aGluZyB0byBzZWUgaGVyZSwgbW92ZSBhbG9uZy4=&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;tenant&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;cultureName&quot;</span><span class="p">:</span><span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;dateFormat&quot;</span><span class="p">:</span><span class="s2">&quot;DD/MM/YYYY&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;systemAdmin&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
                        <span class="nt">&quot;isExpired&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
                        <span class="nt">&quot;notifyDuringDay&quot;</span><span class="p">:</span><span class="kc">null</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="doc_import_report_dashboard_definition.html" class="btn btn-neutral float-right" title="Import Report or Dashboard Definition" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="doc_security_recommendations.html" class="btn btn-neutral" title="Security Recommendations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Izenda.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-75560-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-75560-1');
</script>



</body>
</html>